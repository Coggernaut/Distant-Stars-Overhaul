# Available requirements:
#
#	SKILLS
#	# skill = 2
#
#	LEADER
#	leader = scientist
#	leader = admiral
#	leader = general
#	leader = ruler
#	leader = governor
#
#	MILITARY SHIPS
#	shipclass_military = 1
#
#	CIVILIAN SHIPS
#	shipclass_constructor = 2
#	shipclass_science_ship = 1
#	shipclass_colonizer = 2
#
#	ARMIES
#	shipclass_transport = 1
#	assault_armies = 2
#	defense_armies = 1
#
#	STATIONS
#	research_station = yes
#	mining_station = yes
#	observation_station = yes
#
#	SCOPES
#	abort_trigger
#	this = country (project owner)
#	from = event scope (planet or ship, MIGHT NOT EXIST)
#	fromfrom = project creation scope (usually equals location)
#
#	on_success
#	this = event scope (ship or planet)
#	from = project creation scope (usually equals location)
#
#	on_cancel
#	this = country (project owner)
#	from = event scope (planet or ship, MIGHT NOT EXIST)
#	fromfrom = project creation scope (usually equals location)
#
#	on_fail
#	this = country (project owner)
#	from = project creation scope (usually equals location)


############################
#Cult of the Gateway Schism#
############################
# Board Cult Ship 1
special_project = {
	key = "BOARD_HERETIC_SHIP_1"
	event_chain = "dso_story_dessanu_cult_schism"
	cost = 0
	days_to_research = 60
	tech_department = engineering_technology
	picture = GFX_evt_sabotaged_ship

	event_scope = ship_event

	requirements = {
		shipclass_military = 1
	}

	on_success = {
		ship_event = { id = dso_story.203 }
		custom_tooltip = BOARD_HERETIC_SHIP_1_tooltip
	}

	on_fail = {
	}
}

# Board Cult Ship 2
special_project = {
	key = "BOARD_HERETIC_SHIP_2"
	event_chain = "dso_story_dessanu_cult_schism"
	cost = 0
	days_to_research = 60
	tech_department = society_technology
	picture = GFX_evt_sabotaged_ship

	event_scope = ship_event

	requirements = {
		shipclass_transport = 1
	}

	on_success = {
		owner = { country_event = { id = dso_story.214 } }
		custom_tooltip = BOARD_HERETIC_SHIP_2_tooltip
	}

	on_fail = {
	}
}

# Research Cult debris
special_project = {
	key = "HERETIC_DEBRIS"
	event_chain = "dso_story_dessanu_cult_schism"
	cost = 0
	days_to_research = 60
	tech_department = society_technology
	picture = GFX_evt_space_debris

	event_scope = ship_event

	requirements = {
		shipclass_science_ship = 1
	}

	on_success = {
		#ship_event = { id = dso_story.208 }
		owner = { country_event = { id = dso_story.208 } }
		owner = { add_tech_progress = { tech = tech_repeatable_lcluster_clue progress = 0.075 } }
	}

	on_fail = {
	}
}

# TODO
special_project = {
	key = "HARVESTER_DISTURBANCE_1_PROJECT"
	event_chain = "harvest_subterranean_civilization_chain" # TODO
	cost = 1
	tech_department = society_technology
	picture = GFX_evt_underground_civilization
	timelimit = 360

	event_scope = planet_event

	on_success = {
		change_pc = pc_bh_harvest_colony
		space_owner = {
			country_event = { id = harvest_colony.510 }
			end_event_chain = "harvest_subterranean_civilization_chain" # TODO
		}
	}

	on_fail = {
		end_event_chain = "harvest_subterranean_civilization_chain" # TODO
		random_list = {
			60 = { from = { planet_event = { id = harvest_colony.54 } } }
			40 = { from = { planet_event = { id = harvest_colony.59 } } }
		}
	}
}

special_project = {
	key = "HARVESTER_DISTURBANCE_2_PROJECT"
	event_chain = "harvest_subterranean_civilization_chain" # TODO
	cost = 1
	tech_department = engineering_technology
	picture = GFX_evt_nuclear_explosion
	timelimit = 30

	same_option_group_as = { HARVESTER_DISTURBANCE_1_PROJECT }

	event_scope = planet_event

	on_success = {
		planet_event = { id = harvest_colony.52 }
		space_owner = { end_event_chain = "harvest_subterranean_civilization_chain" } # TODO
	}

	on_fail = {
		end_event_chain = "harvest_subterranean_civilization_chain" # TODO
		if = { limit = { is_homicidal = yes }
			from = { planet_event = { id = harvest_colony.54 } }
		}
	}
}

special_project = {
	key = "HARVESTER_DISTURBANCE_3_PROJECT"
	cost = 5000
	tech_department = engineering_technology
	picture = GFX_evt_nuclear_explosion

	event_scope = planet_event

	on_success = {
		planet_event = { id = harvest_colony.52 }
	}
	on_fail = {  }
}
