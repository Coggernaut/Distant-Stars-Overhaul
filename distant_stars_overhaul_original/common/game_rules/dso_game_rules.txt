#Root = country
#This = planet
can_colonize_planet = {
	hidden_trigger = {
		exists = root
	}
	custom_tooltip = {
		fail_text = "COLONIZATION_IMPOSSIBLE_FOR_NANITE_WORLDS"
		is_planet_class = pc_gray_goo 
		ROOT = {
			OR = {
				has_origin = civic_harvester_nanites
				has_origin = civic_gateway_pursuer
				#has_country_flag = nanotech_traditions_unlocked
			}
		}
	}
	custom_tooltip = {
		fail_text = "COLONIZATION_IMPOSSIBLE_UNDER_INVESTIGATION"
		NOT = { has_planet_flag = planet_under_investigation }
	}
	custom_tooltip = {
		fail_text = "COLONIZATION_IMPOSSIBLE_DYSON_SPHERE"
		if = {
			limit = {
				is_artificial = no	# Colonizing habitats is fine
			}
			system_has_dyson_sphere = no
		}
	}
	custom_tooltip = {
		fail_text = "COLONIZATION_IMPOSSIBLE_DYSON_SPHERE_CONSTRUCTION"
		if = {
			limit = {
				system_has_dyson_sphere = no
				is_artificial = no	# Colonizing habitats is fine
			}
			NOT = {
				solar_system = {
					has_star_flag = dyson_sphere_construction
				}
			}
		}
	}

	custom_tooltip = {
		fail_text = "COLONIZATION_IMPOSSIBLE_COSMOGENESIS_EXODUS"
		exists = root
		root = {
			NOT = { owner = { has_event_chain = cosmogenesis_planet_pickup_chain } }
		}
	}

	custom_tooltip = {
		fail_text = "COLONIZATION_IMPOSSIBLE_CRIMSON_CRAWLERS"

		if = {
			limit = {
				has_modifier = crimson_crawlers
			}
			root = {
				cares_for_crimson_crawlers = yes
			}
		}
	}

	custom_tooltip = {
		fail_text = "BLANK_STRING"
		if = {
			limit = {
				exists = root
				root = {
					is_country_type = swarm
				}
			}
			is_artificial = no
		}
	}

	custom_tooltip = {
		fail_text = "COLONIZATION_IMPOSSIBLE_DEFENDED_PLANET"
		NOT = { has_planet_flag = planet_defended_forbid_colonization }
	}

	custom_tooltip = {
		fail_text = "COLONIZATION_IMPOSSIBLE_SMEEGIBB_PLANET"
		NOT = { has_planet_flag = cannot_colonize_smeegibb_shelter }
	}
}